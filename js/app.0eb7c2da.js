(function(e){function t(t){for(var a,c,i=t[0],s=t[1],u=t[2],l=0,d=[];l<i.length;l++)c=i[l],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&d.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==r[i]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},c={app:0},r={app:0},o=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-4a5f46a6":"e8faba6c","chunk-40e7b12a":"e1405cbe","chunk-4ccbd90e":"d024a560"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-40e7b12a":1,"chunk-4ccbd90e":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-4a5f46a6":"31d6cfe0","chunk-40e7b12a":"9ab262f5","chunk-4ccbd90e":"2fed7799"}[e]+".css",r=s.p+a,o=document.getElementsByTagName("link"),i=0;i<o.length;i++){var u=o[i],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===r))return t()}var d=document.getElementsByTagName("style");for(i=0;i<d.length;i++){u=d[i],l=u.getAttribute("data-href");if(l===a||l===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete c[e],f.parentNode.removeChild(f),n(o)},f.href=r;var b=document.getElementsByTagName("head")[0];b.appendChild(f)})).then((function(){c[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=i(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+c+")",d.name="ChunkLoadError",d.type=a,d.request=c,n[1](d)}r[e]=void 0}};var f=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/xgis_data_visual_map/",s.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var f=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0229":function(e,t,n){"use strict";n("e5e2")},"04c2":function(e,t,n){},1400:function(e,t,n){"use strict";n("04c2")},1969:function(e,t,n){},"226b":function(e,t,n){},"27dc":function(e,t,n){},"4bd9":function(e,t,n){"use strict";n("6bc9")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),c={class:"wrapper"},r={class:"nav-menu"},o=Object(a["createTextVNode"])("首頁"),i=Object(a["createTextVNode"])(" | "),s=Object(a["createTextVNode"])("範例"),u={class:"main"};function l(e,t){var n=Object(a["resolveComponent"])("router-link"),l=Object(a["resolveComponent"])("router-view");return Object(a["openBlock"])(),Object(a["createBlock"])("div",c,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])(n,{to:"/"},{default:Object(a["withCtx"])((function(){return[o]})),_:1}),i,Object(a["createVNode"])(n,{to:"/example"},{default:Object(a["withCtx"])((function(){return[s]})),_:1})]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])(l)])])}n("c3dd");const d={};d.render=l;var f=d,b=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),p=n("cf05"),m=n.n(p),h=n("5fbe"),v=n.n(h),j=Object(a["withScopeId"])("data-v-e8c182ac");Object(a["pushScopeId"])("data-v-e8c182ac");var O={class:"home"},g=Object(a["createVNode"])("ul",{class:"iconList"},[Object(a["createVNode"])("li",null,[Object(a["createVNode"])("img",{alt:"Vue logo",src:m.a,width:"150"})]),Object(a["createVNode"])("li",null,[Object(a["createVNode"])("img",{alt:"Echart logo",src:v.a,height:"80"})])],-1);Object(a["popScopeId"])();var k=j((function(e,t,n,c,r,o){var i=Object(a["resolveComponent"])("Index");return Object(a["openBlock"])(),Object(a["createBlock"])("div",O,[g,Object(a["createVNode"])(i,{msg:"Vue & Echart "})])})),C=Object(a["withScopeId"])("data-v-06aea40c");Object(a["pushScopeId"])("data-v-06aea40c");var N={class:"hello"},y=Object(a["createTextVNode"])(" 基於 vue 和 echart 建立的數據可視化地圖 "),w=Object(a["createTextVNode"])("Start");Object(a["popScopeId"])();var x=C((function(e,t,n,c,r,o){var i=Object(a["resolveComponent"])("router-link");return Object(a["openBlock"])(),Object(a["createBlock"])("div",N,[Object(a["createVNode"])("h1",null,Object(a["toDisplayString"])(n.msg),1),Object(a["createVNode"])("p",null,[y,Object(a["createVNode"])("a",{href:r.publicPath+"file/covidtable_taiwan_cdc6.xlsx",download:""},"下載範本",8,["href"])]),Object(a["createVNode"])("ul",null,[Object(a["createVNode"])("li",null,[Object(a["createVNode"])(i,{to:"/example"},{default:C((function(){return[w]})),_:1})])])])})),V={name:"HelloWorld",props:{msg:String},data:function(){return{publicPath:n.p}}};n("0229");V.render=x,V.__scopeId="data-v-06aea40c";var S=V,_={name:"Home",components:{Index:S}};n("1400");_.render=k,_.__scopeId="data-v-e8c182ac";var B=_,I=Object(a["withScopeId"])("data-v-7c935df0"),X=I((function(e,t,n,c,r,o){var i=Object(a["resolveComponent"])("Table");return Object(a["openBlock"])(),Object(a["createBlock"])(i)})),Y=Object(a["withScopeId"])("data-v-56e45a4c");Object(a["pushScopeId"])("data-v-56e45a4c");var L={class:"table-responsive "},D={class:"table table-sm table-bordered table-striped"};Object(a["popScopeId"])();var W=Y((function(e,t,n,c,r,o){return Object(a["openBlock"])(),Object(a["createBlock"])("div",L,[Object(a["createVNode"])("table",D,[Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.columns,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])("th",{key:e.datafield},Object(a["toDisplayString"])(e.datafield),1)})),128))])]),Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.datalist,(function(e,n){return Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:e[c.columns[0].datafield]},[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.columns,(function(r){return Object(a["openBlock"])(),Object(a["createBlock"])("td",{key:r.datafield,onDblclick:function(e){return c.tableDbClick(n,r.datafield)}},[Object(a["withDirectives"])(Object(a["createVNode"])("input",{type:"text",class:"form-control form-control-sm","onUpdate:modelValue":function(t){return e[r.datafield]=t},onKeyup:t[1]||(t[1]=Object(a["withKeys"])((function(){return c.handleInputKeyupEnter&&c.handleInputKeyupEnter.apply(c,arguments)}),["enter"]))},null,40,["onUpdate:modelValue"]),[[a["vModelText"],e[r.datafield]],[a["vShow"],c.isSelected(n,r.datafield)]]),Object(a["withDirectives"])(Object(a["createVNode"])("span",null,Object(a["toDisplayString"])(e[r.datafield]),513),[[a["vShow"],!c.isSelected(n,r.datafield)]])],40,["onDblclick"])})),128))])})),128))])])])})),E=n("5502"),P={setup:function(){var e=Object(E["b"])(),t=Object(a["reactive"])([-1,""]),n=function(e,n){if(!(e<0)&&n){if(t[0]===e&&t[1]===n){var a=[-1,""];return t[0]=a[0],void(t[1]=a[1])}t[0]=e,t[1]=n}};return{datalist:Object(a["computed"])((function(){return e.getters["chart/datalist"]})),columns:Object(a["computed"])((function(){return e.getters["chart/columns"]})),selected:t,isSelected:function(e,n){return t[0]===e&&t[1]===n},handleInputKeyupEnter:function(){t[0]=-1,t[1]=""},tableDbClick:n}}};n("4bd9");P.render=W,P.__scopeId="data-v-56e45a4c";var T=P,M={components:{Table:T}};n("70c2");M.render=X,M.__scopeId="data-v-7c935df0";var A=M,J=n("2909"),G=n("5530"),R=n("1da1"),K=(n("96cf"),n("99af"),n("d81d"),n("a15b"),function(){var e=Object(R["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,fetch("".concat("https://xgis-searchadress-service.herokuapp.com/","?Addr=").concat(t)).then((function(e){return e.json()})).catch((function(e){return!1}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),F={datalist:[],columns:[],chartName:"請上傳資料",metricNamesCols:[],metricsCols:[],addressCols:[],datalistWithXY:[],columnsWithXY:[],GeoJson:null},H={setDatalist:function(e,t){var n=t.value;e.datalist=n},setColumns:function(e,t){var n=t.value;e.columns=n},setChartName:function(e,t){var n=t.value;e.chartName=n},setMetricNamesCols:function(e,t){var n=t.value;e.metricNamesCols=n},setMetricsCols:function(e,t){var n=t.value;e.metricsCols=n},setAddressCols:function(e,t){var n=t.value;e.addressCols=n},setDatalistWithXY:function(e,t){var n=t.value;e.datalistWithXY=n},setColumnsWithXY:function(e,t){var n=t.value;e.columnsWithXY=n},setGeoJson:function(e,t){var n=t.value;e.GeoJson=n}},U={setDatalist:function(e,t){var n=e.commit;n("setDatalist",{value:t})},setColumns:function(e,t){var n=e.commit;n("setColumns",{value:t})},setChartName:function(e,t){var n=e.commit;n("setChartName",{value:t})},setMetricNamesCols:function(e,t){var n=e.commit;n("setMetricNamesCols",{value:t})},setMetricsCols:function(e,t){var n=e.commit;n("setMetricsCols",{value:t})},setAddressCols:function(e,t){return Object(R["a"])(regeneratorRuntime.mark((function n(){var a,c,r,o,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e.commit,c=e.state,r=e.dispatch,a("setAddressCols",{value:t}),0!==t.length){n.next=6;break}return r("setDatalistWithXY",[]),r("setColumnsWithXY",[]),n.abrupt("return");case 6:return o=c.datalist.map((function(e){var n=t.map((function(t){return e[t.datafield]}));return K(n.join(""))})),r("setIsLoading",!0,{root:!0}),n.next=10,Promise.all(o).then((function(e){return e.map((function(e,t){if(e.Result.length>0){var n=e.Result[0].Lon,a=e.Result[0].Lat;return Object(G["a"])(Object(G["a"])({},c.datalist[t]),{},{X:n,Y:a})}return c.datalist[t]}))}));case 10:i=n.sent,r("setIsLoading",!1,{root:!0}),r("setColumnsWithXY",[].concat(Object(J["a"])(c.columns),[{text:"X(自動產生)",datafield:"X"},{text:"Y(自動產生)",datafield:"Y"}])),r("setDatalistWithXY",i);case 14:case"end":return n.stop()}}),n)})))()},clearChartCols:function(e){var t=e.dispatch;t("setMetricNamesCols",[]),t("setMetricsCols",[]),t("setAddressCols",[])},setDatalistWithXY:function(e,t){var n=e.commit;n("setDatalistWithXY",{value:t})},setColumnsWithXY:function(e,t){var n=e.commit;n("setColumnsWithXY",{value:t})},setGeoJson:function(e,t){var n=e.commit;n("setGeoJson",{value:t})}},q={datalist:function(e){return e.datalist},chartName:function(e){return e.chartName},columns:function(e){return e.columns},metricNamesCols:function(e){return e.metricNamesCols},metricsCols:function(e){return e.metricsCols},addressCols:function(e){return e.addressCols},datalistWithXY:function(e){return e.datalistWithXY},columnsWithXY:function(e){return e.columnsWithXY},GeoJson:function(e){return e.GeoJson}},z={state:F,actions:U,mutations:H,getters:q,namespaced:!0},Q=Object(E["a"])({state:{isLoading:!1},mutations:{setIsLoading:function(e,t){var n=t.value;e.isLoading=n}},actions:{setIsLoading:function(e,t){var n=e.commit;n("setIsLoading",{value:t})}},getters:{isLoading:function(e){return e.isLoading}},modules:{chart:z}}),Z=[{path:"/",component:B},{path:"/example",children:[{path:"",component:A},{path:"Chart",component:function(){return Promise.all([n.e("chunk-4a5f46a6"),n.e("chunk-4ccbd90e")]).then(n.bind(null,"3953"))},beforeEnter:function(e,t,n){Q.getters["chart/datalist"].length>0?n():n("/example")}}],component:function(){return Promise.all([n.e("chunk-4a5f46a6"),n.e("chunk-40e7b12a")]).then(n.bind(null,"f3c2"))}}],$=Object(b["a"])({history:Object(b["b"])("/xgis_data_visual_map/"),routes:Z}),ee=$,te=(n("4989"),n("27dc"),n("becf"),n("5c7f")),ne=n("22b4"),ae=n("f95e"),ce=n("49bb"),re=n("4cb5"),oe=n("4b2a"),ie=n("2da7"),se=n("9394"),ue=n("ff32");Object(ne["a"])([ae["a"],ce["a"],re["a"],oe["a"],ie["a"],se["a"],ue["a"]]),Object(a["createApp"])(f).use(Q).use(ee).component("v-chart",te["a"]).mount("#app")},"5fbe":function(e,t,n){e.exports=n.p+"img/logo2.31d07b0b.png"},"6bc9":function(e,t,n){},"70c2":function(e,t,n){"use strict";n("226b")},c3dd:function(e,t,n){"use strict";n("1969")},cf05:function(e,t,n){e.exports=n.p+"img/logo.82b9c7a5.png"},e5e2:function(e,t,n){}});
//# sourceMappingURL=app.0eb7c2da.js.map